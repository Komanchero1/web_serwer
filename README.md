               Домашнее задание к занятию «1.1. HTTP и современный Web»

              
                       Задача - "Handlers".
    Необходимо сделать предыдущее задание полезнее - чтобы в сервер можно было добавлять обработчиков на определённые шаблоны путей.    

-  Вы принимаете запрос, парсите его целиком, как мы сделали на лекции, и собираете объект, типа Request.
-  На основании данных из Request вы выбираете хендлер (он может быть только один), который и будет обрабатывать запрос.
-  Все хендлеры должны храниться в полях Server.
-  Самый простой способ хранить хендлеры — это использовать в качестве ключей метод и путь. Можно сделать как Map внутри Map, так и отдельные Map на каждый метод.
-  Поиск хендлера заключается в том, что вы выбираете по нужному методу все зарегистрированные хендлеры, а затем перебираете по пути. Используйте пока точное соответствие: считайте, что у вас все запросы без Query String.
-  Найдя нужный хендлер, достаточно вызвать его метод handle, передав туда Request и BufferedOutputStream.
-  Так как ваш сервер многопоточный, думайте о том, как вы будете безопасно хранить все хендлеры.
-  В качестве Body достаточно передавать InputStream (напоминаем, Body начинается после \r\n\r\n).
Итого: фактически вы решаете задачу поиска элемента в «коллекции» с вызовом его метода.   

                 Класс - "Server".

Класс Server служит для создания и управления простым HTTP сервером, способным обрабатывать различные типы запросов и отдавать статические файлы. Он использует многопоточность для эффективной обработки запросов и предоставляет возможность добавления пользовательских обработчиков запросов. 
                Используемые методы в классе.

-   listen(int port): прослушивает соединение на заданном порту.
-   handleClient(Socket socket): Обрабатывает клиентские запросы, вызывая соответствующие обработчики. 
-   getHandler(String method, String path): Возвращает обработчик запроса для указанного метода и пути.
-   isStaticFile(String path): Проверяет, является ли запрошенный путь статическим файлом.
-   sendStaticFile(String path, BufferedOutputStream out): Отправляет статический файл клиенту.
-   sendNotFound(BufferedOutputStream out): Отправляет клиенту ответ с кодом 404 (Not Found).   
-   eadBody(BufferedReader in): Считывает тело запроса и возвращает его в виде массива байтов.
-   sendResponse(BufferedOutputStream out, String content): Отправляет ответ клиенту. 
-   main(String[] args) Ииициализирует сервер, добавляет обработчики для GET и POST запросов на /messages и запускает сервер на порту 8080. 
-    интерфейс Handler пределяет метод handle, который должен быть реализован для обработки запросов и отправки ответов клиентам.                                

                     Класс - "RequestParser".  


Класс RequestParser предназначен для парсинга HTTP запроса из BufferedReader и создания объекта Request, содержащего метод запроса, путь и тело запроса.

                Используемые методы в классе.

-   parseRequest(BufferedReader in)Назначение: Этот метод считывает HTTP запрос из BufferedReader, парсит его и возвращает объект Request содержащий метод запроса (GET, POST и т.д.), путь запроса и тело запроса в виде массива байтов.  

                   Класс - "Request".

Описывает объект запроса с тремя основными атрибутами: методом запроса (method), путем запроса (path) и телом запроса (body).

                Поля класса.

-   private final String method - поле для хранения HTTP метода запроса, передаваемого в виде строки (GET,  PUT).
-   private final String path - поле для хранения пути запроса в виде строки.
-   private final byte[] body - поле для хранения тела запроса в виде массива байтов (byte[]). 
-   public Request(String method, String path, byte[] body) - конструктор класса, который инициализирует объект Request заданными значениями метода (method), пути (path) и тела (body) запроса.

                 Методы класса.

-   public String getMethod() - возвращает метод запроса (method).
-   public String getPath() - возвращает путь запроса (path).
-   public byte[] getBody() - возвращает тело запроса (body) в виде массива байтов.                 
